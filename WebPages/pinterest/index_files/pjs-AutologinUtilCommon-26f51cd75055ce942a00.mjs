(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["AutologinUtilCommon","AuthHandshakeCommon"],{"37no":function(e,t,o){o.d(t,"a",(function(){return _})),o.d(t,"b",(function(){return c})),o.d(t,"c",(function(){return s}));var n=o("7w6Q");const a=20,i=100,r=.01,_=Object.freeze({OTHER:0,FACEBOOK:1,GPLUS_ONE:2});function c(e){return new Promise((t,o)=>{if(document.querySelector(`script[src="${e}"]`))return void t();const n=document.createElement("script");n.src=e,n.async=!0,n.addEventListener("load",t),n.addEventListener("error",o),document.getElementsByTagName("head")[0].appendChild(n)})}function s(e,t=_.OTHER,o=!1){const c=o?"web":"mweb";return new Promise((o,s)=>{if(document.querySelector(`script[src="${e}"]`)){let e=0;if(t===_.GPLUS_ONE)if(window.gapi)o();else{const t=setInterval(()=>{window.gapi||e===a?(clearInterval(t),o()):(e+=1,n.default.increment(`${c}.loadScript.gplus_one.tries_${e}`,r))},i)}else if(t===_.FACEBOOK)if(window.FB)o();else{const t=setInterval(()=>{window.FB||e===a?(clearInterval(t),o()):(e+=1,n.default.increment(`${c}.loadScript.facebook.tries_${e}`,r))},i)}else o()}else{const t=document.createElement("script");t.src=e,t.async=!0,t.addEventListener("load",o),t.addEventListener("error",s),document.getElementsByTagName("head")[0].appendChild(t)}})}},"4NbJ":function(e,t,o){o.d(t,"a",(function(){return i})),o.d(t,"b",(function(){return r})),o.d(t,"c",(function(){return g})),o.d(t,"d",(function(){return d})),o.d(t,"e",(function(){return p})),o.d(t,"f",(function(){return f}));var n=o("bKKl"),a=o("37no");const i="postmessage",r="profile email",_="694505692171-31closf3bcmlt59aeulg2j81ej68j6hk.apps.googleusercontent.com",c="com.pinterest",s="offline",u="single_host_origin",l=()=>Object(a.c)("https://apis.google.com/js/client:platform.js",a.a.GPLUS_ONE);function g(e){const t={scope:r,client_id:_,app_package_name:c,access_type:s,cookie_policy:u},o=function(t){e&&e(t)};return new Promise((e,n)=>{l().then(()=>{o("google_script_load"),window&&window.gapi&&window.gapi.auth2?(o("google_script_init_onuse"),window.gapi.auth2.init(t).then(t=>{o("google_init_success"),e(t)},({error:e})=>{o("google_init_error"),n(`init_onuse_${e}`)})):(o("google_script_init_exists"),window.gapi.load("auth2",{callback:()=>{o("google_auth2_load_complete"),window.gapi.auth2.init(t).then(t=>{o("google_init_success"),e(t)},({error:e})=>{o("google_init_error"),n(`init_exists_${e}`)})},onerror:({error:e})=>{o("google_auth2_script_load_error"),n(e)},timeout:15e3,ontimeout:()=>{o("google_auth2_script_load_timeout"),n("timeout")}}))})})}function d(e,t,o){return function(e,t,o,a){return new Promise((r,g)=>{t&&Object(n.h)()?g():l().then(()=>{a&&a("google_sdk_load_original"),window.gapi.signin.render(e,{scope:o,clientid:_,apppackagename:c,redirecturi:i,accesstype:s,cookiepolicy:u,callback:e=>{a&&a("google_auth_data_found_original");const o=e.status,n=o&&o.signed_in?{data:{gplus_id_token:e.id_token,gplus_access_token:e.access_token,gplus_expires_at:e.expires_at,gplus_autologin:t||!1},signupOptions:{gplus_code:e.code,gplus_id_token:e.id_token,gplus_redirect_uri:i}}:{};o.signed_in&&a&&a("google_user_signed_in_original"),(o.signed_in||t)&&r(n)}})})})}(e,t,r,o)}function p(e,t,o,a=!1){return function(e,t,o,a=!1){return new Promise((_,c)=>{a&&Object(n.h)()?c():(o("google_button_init"),g(o).then(()=>{o("google_sdk_load"),t.signin2.render(e,{scope:r,onsuccess:e=>{o("google_button_success");const t=e.getAuthResponse(!0),n={data:{gplus_id_token:t.id_token,gplus_access_token:t.access_token,gplus_expires_at:t.expires_at,gplus_autologin:a||!1},signupOptions:{gplus_code:"",gplus_id_token:t.id_token,gplus_redirect_uri:i}};_(n)},onfailure:()=>{o("google_button_failure"),c("gapi_signin2_render_error")}})},e=>{o("google_auth2_sdk_init_error"),c(e)}))})}(e,t,o,a)}function f(e,t){return new Promise((e,o)=>{Object(n.h)()?o():(t("google_button_init"),function(e){const t={scope:r,client_id:_,app_package_name:c,access_type:s,cookie_policy:u};return new Promise((o,n)=>{e("google_script_fetch"),Object(a.c)("https://apis.google.com/js/platform.js",a.a.GPLUS_ONE).then(()=>{e("google_script_load"),window.gapi.load("auth2",{callback:()=>{e("google_auth2_load");const a=window.gapi.auth2.init(t);a.then(()=>{e("google_init_success"),o(a)},({error:t})=>{e("google_init_error"),n(`gplus_simple_load_init_exists_${t}`)})},onerror:({error:t})=>{e("google_auth2_script_load_error"),n(`gplus_simple_load_${t}`)},timeout:15e3,ontimeout:()=>{e("google_auth2_script_load_timeout"),n("gplus_simple_load_timeout")}})})})}(t).then(n=>{t("google_sdk_load");const a=n.currentUser.get().getAuthResponse(!0);if(a){t("google_auth_data_found");const o={data:{gplus_id_token:a.id_token,gplus_access_token:a.access_token,gplus_expires_at:a.expires_at,gplus_autologin:!0}};e(o)}else t("google_auth_data_not_found"),o("gplus_user_not_logged_in")},e=>{t("google_auth2_sdk_init_error"),o(e)}))})}},Dm6y:function(e,t,o){o.r(t);var n=o("gxu6"),a=o("m2Wt"),i=o("h4v/"),r=o("fZ0m"),_=o("x/Ro"),c=o("SyXB"),s=o("t8/X"),u=o("QLqj"),l=o("28DW"),g=o("zwad"),d=o("mBfy"),p=o("htxO"),f=o("4NbJ");o.d(t,"fbAutologinCallback",(function(){return T})),o.d(t,"fbAutologin",(function(){return I})),o.d(t,"googleAutologin",(function(){return j}));const O=()=>o.e("FacebookCommon").then(o.bind(null,"UTsl")),b="facebook",h="google",E=[1201,105,30,82,83,86],m=(e,t)=>{e=((e,t)=>{const o=t?{}:{autologin:!0};if(!e&&("/"!==(e=window.location.pathname||"/")&&!t&&Object(p.b)(document.referrer)&&(o.lp="true"),Object.assign(o,g.a.getQueryStringParams()),o)){const t=o.next;t&&(e=t,delete o.next)}return g.a.appendQueryString(e,o)})(e,t),Object(s.a)(e)},k=e=>{Object(l.a)(`autologin.${e}`);const t=a.a.fromPlainObject({event_type:38,view_type:9});t.updateAuxData({login_provider:e,unauth_data:JSON.stringify({autologin:!0})}),i.a.getInstance().addEvent(t)},w=(e,t,o=!1)=>{const n=a.a.fromPlainObject({event_type:e});n.updateAuxData({...o?{login_state:2}:{},signup_login_method:t,unauth_data:JSON.stringify({autologin:!0})}),i.a.getInstance().addEvent(n)},A=e=>{n.b("google"===e?"galae":"fbalae",12,12)};function S(e,t=!1){if(w(7535,2,t),!E.includes(e.api_error_code))throw e.api_error_code?Object(l.a)(`autologin.facebook.uncaught_api_error_code.${e.api_error_code}`):Object(l.a)("autologin.facebook.uncaught_with_no_api_error_code"),e;A(b)}function N(e,t,o=!1,n=!1){w(7536,3,o);const a=window.nextUrlParam;t||(o&&n&&u.b.sessionStorage.setItem("sessionAutologinMethod","Google"),m(a,o))}function R(e,t=!1){if(w(7535,3,t),!E.includes(e.api_error_code))throw e.api_error_code?Object(l.a)(`autologin.google.uncaught_api_error_code.${e.api_error_code}`):Object(l.a)("autologin.google.uncaught_with_no_api_error_code"),e;A(h)}function T(e,t,o=!1){if(n.a("fbalae")){const e=n.a("fbalae");Object(l.a)(`autologin.facebook.skip_for_known_api_errors.${e}`)}else if(Object(l.a)(`autologin.facebook_attempt.${t}`),"connected"===e.status)if(n.a("fba"))Object(l.a)("autologin.facebook.connected_but_disabled_via_user_cookie");else{const t=e.authResponse;if(!t)return void Object(l.a)("autologin.facebook_fail");k("facebook"),w(7534,2),Object(_.a)({facebook_id:t.userID,facebook_token:t.accessToken,facebook_autologin:!0},{container:"autologinfb"},null).then(e=>{!function(e,t,o=!1,n=!1){w(7536,2,o);const a=window.nextUrlParam;t||(o&&n&&u.b.sessionStorage.setItem("sessionAutologinMethod","Facebook"),m(a,o))}(0,o)},S)}}function I(e,t){O().then(({default:o})=>{Object(l.a)("unauth_web.facebook_connect.autologin.attempt"),o.ensureInit(t=>{Object(c.c)("UnauthFacebookAutologinScriptLoadedEvent"),Object(l.a)("unauth_web.facebook_autologin.get_login_status.attempt"),t.getLoginStatus(t=>{Object(l.a)("unauth_web.facebook_connect.autologin.success"),"connected"===t.status&&(Object(l.a)("unauth_web.facebook_autologin.get_login_status.response_connected"),Object(c.c)("UnauthFacebookAutologinSuccessEvent"),e({type:"FB_AUTOLOGIN_CONNECTED",payload:{}})),T(t,"pure_react",!1),"not_authorized"===t.status?(Object(l.a)("unauth_web.facebook_autologin.get_login_status.response_not_authorized"),e({type:"FB_AUTOLOGIN_NOT_AUTHORIZED",payload:{}})):"authorization_expired"===t.status?(Object(l.a)("unauth_web.facebook_autologin.get_login_status.response_authorization_expired"),e({type:"FB_AUTOLOGIN_AUTH_EXPIRED",payload:{}})):e({type:"FB_AUTOLOGIN_UNKNOWN",payload:{}})})},d.default,t)})}function j(e,t,o,a=!1,i=null){if(n.a("galae")){const e=n.a("galae");return void Object(l.a)(`autologin.google.skip_for_known_api_errors.${e}`)}if(n.a("fba"))return void Object(l.a)("autologin.google.connected_but_disabled_via_user_cookie");const s=null===i;Object(c.c)("UnauthGoogleAutologinInitEvent"),r.a.get(n=>{Object(c.c)("UnauthGoogleAutologinScriptLoadedEvent"),Object(l.a)(`autologin.google_start.${o}`),i&&i.check("enabled_one_tap_only")?Object(l.a)("dev.autologin_disabled.google_v3"):s||i&&i.check("enabled")?Object(f.f)(n,e=>Object(l.a)(`autologin.${e}`)).then((e={})=>{Object(l.a)(`autologin.google_attempt.${o}`),k("google"),w(7534,3),Object(c.c)("UnauthGoogleAutologinSuccessEvent"),Object(_.a)(e.data,"autologingoogle",null,!1,void 0,void 0,s).then((e={})=>{Object(l.a)("autologin.login_success"),N(0,a,!1)},e=>{Object(l.a)("mweb_autologin.google_fail"),Object(l.a)("autologin.login_failure"),R(e)})},e=>{Object(l.a)(`autologin.google_fail.${e}`),e&&-1!==e.indexOf("gplus_simple_load")&&Object(l.a)("mweb_autologin.google_fail")}):function(e,t,o,n,a){a&&a.signin.render(e,{scope:"profile email",clientid:t.GPLUS_CLIENT_ID,apppackagename:t.GPLUS_APP_PACKAGE_NAME,redirecturi:"postmessage",accesstype:"offline",cookiepolicy:"single_host_origin",callback(e){Object(l.a)(`autologin.google_attempt.${o}`);const t={gplus_id_token:e.id_token,gplus_access_token:e.access_token,gplus_expires_at:e.expires_at,gplus_autologin:!0};e.status.signed_in?(k("google"),w(7534,3),Object(c.c)("UnauthGoogleAutologinSuccessEvent"),Object(_.a)(t).then((e={})=>{N(0,n)},R)):Object(l.a)("autologin.google_fail")}})}(e,t,o,a,n)})}},UPfj:function(e,t,o){o.d(t,"a",(function(){return r})),o.d(t,"d",(function(){return _})),o.d(t,"e",(function(){return c})),o.d(t,"c",(function(){return s})),o.d(t,"f",(function(){return u})),o.d(t,"b",(function(){return l}));var n=o("gxu6"),a=o("QLqj"),i=o("oZBM");function r(e,t=!1,o=""){return t?i.a.tier1:o&&o.includes("yahoo.co.jp")&&"JP"===e?i.a.tier1:e?(e=e||"",i.f.has(e)?i.a.tier1:i.g.has(e)?i.a.tier2:i.a.tier3):i.a.tier1}function _(){n.b("hasBeenShownLoginModalInOpen","true",i.e)}function c(e){a.b.localStorage.setItem("uoiou",!!e)}function s(){return a.b.localStorage.getItem("uoiou")||!1}function u(){a.b.sessionStorage.setItem(i.d,i.c)}function l(){return s()||a.b.sessionStorage.getItem(i.d)===i.c}},VL22:function(e,t,o){o.d(t,"a",(function(){return r})),o.d(t,"b",(function(){return _})),o.d(t,"d",(function(){return c})),o.d(t,"c",(function(){return s}));var n=o("17x9"),a=o.n(n),i=o("kmwA");const r={FACEBOOK:"facebook",GOOGLE_ONE_TAP:"google_one_tap",GOOGLE:"google",EMAIL:"email",OTHER:"other"},_=e=>e.facebook_id?r.FACEBOOK:e.google_open_id_token?r.GOOGLE_ONE_TAP:e.gplus_code||e.gplus_id_token?r.GOOGLE:e.email?r.EMAIL:r.OTHER,c=(a.a.shape({credentials:a.a.shape({}),userData:a.a.shape({}),type:a.a.oneOf(Object.values(r))}),e=>e in i.a.settings.MINIMUM_AGE_BY_EU_COUNTRY),s=e=>i.a.settings.EN_COUNTRIES_WITH_MANDATORY_AGE.includes(e)||i.a.settings.LATAM_AGE_COLLECTION.has(e)},"Ye/N":function(e,t,o){const n={_:e=>e,set(e){Object.assign(this,e)}};t.a=n},bKKl:function(e,t,o){o.d(t,"h",(function(){return a})),o.d(t,"b",(function(){return i})),o.d(t,"c",(function(){return r})),o.d(t,"g",(function(){return _})),o.d(t,"e",(function(){return c})),o.d(t,"f",(function(){return s})),o.d(t,"d",(function(){return u})),o.d(t,"a",(function(){return l}));var n=o("gxu6");const a=()=>(()=>!!n.a("logged_out"))()||!!n.a("fba"),i=105,r=78,_=30,c=77,s=1402,u=79,l=101},dg5e:function(e,t,o){o.r(t);o("bZMm");var n=o("JW66"),a=o("+NLT"),i=o("eOdZ"),r=o("kmwA"),_=o("28DW"),c=o("zwad");const s={_parseJson:function(e){return e.json()},_throwError:function(e){const t=new Error(e.statusText);throw t.response=e,s._reconstructError(t),t},_checkStatus:function(e){return 200===e.status||401===e.status?e:(s._throwError(e),{})},_crossDomainRequest:function(e,t,o){if("GET"!==o&&"POST"!==o)return Promise.resolve({});const i={credentials:"include",mode:"cors"};return"POST"===o&&(i.method="POST",i.body=t,i.headers={"Content-type":"application/x-www-form-urlencoded; charset=UTF-8","X-Pinterest-InstallId":a.a.instance.unauth_id},a.a.instance.unauth_id||Object(_.a)(`unauth.auth_handshake.cross_domain.no_unauth_id.${o}`)),fetch(e,i).then(s._checkStatus).then(s._parseJson).then(e=>"success"===e.status?Promise.resolve(e):e.code===n.a.LOGIN_MFA_REQUIRED?(e.api_error_code=e.code,Promise.reject(e)):(s._throwError(e),{})).catch(e=>{throw e})},_reconstructError:e=>{!e.api_error_code&&e.response&&(e.api_error_code=e.response.code,e.message=e.response.message)},_verifyAndGetToken:function(){const e=r.a.settings.ACCOUNTS_PINTEREST_URL+"/v3/handshake/verify/";return s._crossDomainRequest(e,"","GET")},exchangeTokenAndSetSession:function(e,t=!1){return i.a.create("HandshakeSessionResource",{token:e,isRegistration:t}).callCreate()},verifyLoggedInStatus:function(){s._verifyAndGetToken().then(e=>{if(e&&e.data){const t=e.data;s.exchangeTokenAndSetSession(t).then(e=>{window.location.reload()},e=>{})}},e=>{})},_setUpRegisterParameters:function(e){const t={};if(t.email=e.email||"",t.username=e.username||"",t.password=e.password||"",t.first_name=e.first_name||"",t.last_name=e.last_name||"",t.country=e.country||"",t.locale=a.a.instance.locale,t.referrer=a.a.instance.referrer,e.age){const o=new Date;o.setFullYear(o.getFullYear()-e.age);const n=parseInt(o/1e3,10);t.birthday=n.toString()}if(e.custom_gender&&(t.custom_gender=e.custom_gender),e.gender&&(t.gender=e.gender),e.business_name&&(t.account_type=e.account_type,t.business_name=e.business_name,t.first_name=e.business_name),a.a.instance.invite_code&&(t.invite_code=a.a.instance.invite_code),e.facebook_id){const o=a.a.instance.facebook_token||e.facebook_token||"";t.facebook_id=e.facebook_id,t.facebook_token=o,t.social_username=e.social_username||""}else(e.gplus_code||e.gplus_id_token)&&(t.password=e.password||"",t.one_time_code=e.gplus_code,t.id_token=e.gplus_id_token,t.redirect_uri=e.gplus_redirect_uri);return c.a.getQueryStringFromObject(t)},_setUpLoginParameters:function(e){const t={};if(e.username_or_email&&(t.username_or_email=e.username_or_email.trim(),t.password=e.password,t.referrer=a.a.instance.referrer),e.facebook_id){const o=a.a.instance.facebook_token||e.facebook_token||"";t.facebook_id=e.facebook_id,t.facebook_token=o,t.facebook_autologin=e.facebook_autologin||!1}return e.gplus_id_token&&(t.gplus_id_token=e.gplus_id_token,t.gplus_access_token=e.gplus_access_token,t.gplus_expires_at=e.gplus_expires_at,t.gplus_autologin=e.gplus_autologin||!1),e.mfa_token&&(t.mfa_token=e.mfa_token),c.a.getQueryStringFromObject(t)},_getRegisterRequestUrl:function(e){let t="/v3/register/email/handshake/";return e.facebook_id&&(t="/v3/register/facebook/handshake/"),(e.gplus_code||e.gplus_id_token)&&(t="/v3/register/gplus/handshake/"),e.business_name&&(t="/v3/register/partner/handshake/"),r.a.settings.ACCOUNTS_PINTEREST_URL+t},_getLoginRequestUrl:function(e){let t="/v3/login/handshake/";return e.facebook_id&&(t="/v3/login/facebook/handshake/"),e.gplus_id_token&&(t="/v3/login/gplus/handshake/"),e.mfa_token&&(t="/v3/login/mfa/handshake/"),r.a.settings.ACCOUNTS_PINTEREST_URL+t},registerUser:function(e){const t=s._getRegisterRequestUrl(e),o=s._setUpRegisterParameters(e);return s._crossDomainRequest(t,o,"POST")},loginUser:function(e){const t=s._getLoginRequestUrl(e),o=s._setUpLoginParameters(e);return s._crossDomainRequest(t,o,"POST")}};t.default=s},fZ0m:function(e,t,o){const n={get(e){(()=>o.e("ScriptCommon").then(o.bind(null,"6tKR")))().then(({default:t})=>{t.load([],"https://apis.google.com/js/client:platform.js","gplus"),t.ready("gplus",()=>{e(window.gapi)})})}};t.a=n},htxO:function(e,t,o){o.d(t,"b",(function(){return r})),o.d(t,"c",(function(){return _})),o.d(t,"a",(function(){return c}));var n=o("xdpg"),a=o("Ye/N"),i=o("zwad");function r(e){const t=function(e){const{hostname:t}=i.a.parse(e,!0);if(t&&e){if(e.match(/^(http|https):\/\/(www.)?google\.com$|google\.(co|com)\.[a-z]{2}$|google\.[a-z]{2}$/))return"GOOGLE";if(t.includes("bing."))return"BING";if(t.includes("yahoo."))return"YAHOO"}return""}(e);return["GOOGLE","BING","YAHOO"].includes(t)}function _(e,t){t=(((t||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");return e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>|<!--[\s\S]*/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,(e,o)=>t.indexOf("<"+o.toLowerCase()+">")>-1?e:"")}function c(){const e=n.c(a.a._("Share how you feel. <br> Help slow the spread of COVID-19","unauth covid-19 app upsell download copy","unauth covid-19 app upsell download copy"),{}),t=a.a._("Help scientists and doctors track and fight the virus.","unauth covid-19 app description copy","unauth covid-19 app description copy");return{type:"holidayCard",title:e,buttonText:a.a._("Get the app","unauth covid-19 app upsell button (link to app download)","unauth covid-19 app upsell button (link to app download)"),link:"https://get.howwefeel.org/share",description:t,image:{url:"https://i.pinimg.com/564x/8c/7d/e5/8c7de50bb7480b942c2f5c76e04d8336.jpg",width:472,height:630},openInNewTab:!0}}},oZBM:function(e,t,o){o.d(t,"a",(function(){return n})),o.d(t,"f",(function(){return a})),o.d(t,"g",(function(){return i})),o.d(t,"b",(function(){return r})),o.d(t,"e",(function(){return _})),o.d(t,"d",(function(){return c})),o.d(t,"c",(function(){return s}));const n={tier1:"tier1",tier2:"tier2",tier3:"tier3"},a=new Set(["AU","US","CA","IE","NZ","GB"]),i=new Set(["AT","BE","CH","CZ","DK","ES","NO","PT","SE","NL"]),r=60,_=12,c="openUnauthType",s="OPEN_UNAUTH"},"t8/X":function(e,t,o){o.d(t,"a",(function(){return r}));var n=o("xAAE"),a=o("28DW"),i=o("zwad");function r(e){i.a.isTrustedOrigin(e)||(e="/",Object(a.a)("url_reset")),Object(n.a)(e,!1)}},"x/Ro":function(e,t,o){var n=o("dg5e"),a=o("+NLT"),i=o("eOdZ"),r=o("QLqj"),_=o("kmwA"),c=o("JW66"),s=o("28DW");const u=new Map([[1,"INVALID_PARAMETERS"],[100,"INVALID_NETWORK_ACCESS_TOKEN"],[105,"FACEBOOK_ACCOUNT_NOT_LINKED"],[12,"API_SERVER_ERROR"],[1202,"LOGIN_MFA_TOKEN_INVALID"],[1203,"MFA_CONNECTION_ERROR"],[13,"API_DOWN"],[181,"GPLUS_CONNECTION_ERROR"],[14,"API_SERVER_SPAM_CONTENT"],[16,"API_REQUEST_TIMEOUT"],[50,"API_ERROR_PIN_NOT_FOUND"],[77,"INVALID_PASSWORD_FB_USER"],[78,"INVALID_PASSWORD_ERROR_CODE"],[79,"INVALID_EMAIL_ERROR_CODE"],[80,"INVALID_EMAIL_OR_PASSWORD"],[82,"LOGIN_DEACTIVATED_USER"],[83,"LOGIN_POLICY_VIOLATION_USER"],[85,"AUTO_PASSWORD_RESET_ERROR_CODE"],[86,"LOGIN_PANICKED_USER"],[87,"LOGIN_SOFT_BANNED_USER"],[93,"API_ERROR_UNDERAGE_REGISTER_ATTEMPT"],[99,"LOGIN_PASSWORD_NOT_CREATED"],[8,"API_LIMIT_EXCEEDED_ERROR"],[9,"API_EVENT_BLOCKED_ERROR"],[19,"USER_IN_SAFE_MODE"],[84,"LOGIN_VOLUNTARILY_DEACTIVATED_USER"],[85,"LOGIN_BAD_PASSWORD_ASK_RESET"],[1201,"LOGIN_MFA_REQUIRED"],[30,"LOGIN_USER_NOT_FOUND"],[88,"LOGIN_HARD_BANNED_USER"],[429,"RESPONSE_CODE_TOO_MANY_REQUESTS"]]);function l(e,t,o="unknown_source",n=!1){if(e){const a=e.http_status===c.a.RESPONSE_CODE_TOO_MANY_REQUESTS?c.a.RESPONSE_CODE_TOO_MANY_REQUESTS:e.api_error_code;let i=a;u.has(a)&&(i=u.get(a));const{container:r}=t;n?Object(s.a)(`unauth_web_client_cctld_login_api_error.${String(i)}.${r||"unknow_container"}.${o}`):Object(s.a)(`unauth_web_client_login_api_error.${String(i)}.${r||"unknow_container"}.${o}`)}}var g=o("UPfj"),d=o("VL22"),p=o("53sj");const f=function(e){return e.mfa_token?"mfa_token":e.mfa_resend?"mfa_resend":e.facebook_id?d.a.FACEBOOK:e.google_open_id_token?d.a.GOOGLE_ONE_TAP:e.gplus_id_token?d.a.GOOGLE:e.phone_number?"phone_number":e.username_or_email?d.a.EMAIL:d.a.OTHER},O=function(e,t,o=!1){let n="referrer_unknown";try{const e=document.referrer;n=e?e.indexOf("/t.co/")>-1?"twitter":e.indexOf("google.")>-1?"google":e.indexOf("bing.")>-1?"bing":e.indexOf("facebook.")>-1?"facebook":"other":"direct"}catch(u){}const a=f(e),i=t===Object(t)?t.hybridTier:"tier_unknown",r=t===Object(t)?t.container:"container_unknown";Object(s.a)("login.referrer."+n+"."+a),Object(s.a)("login.container."+r+"."+a),Object(s.a)("login.type."+a);const _=f(e)||"method_unknown",c=t.page||"page_unknown";e.gplus_autologin?o?(Object(s.a)("mweb_autologin.google_success"),Object(s.g)("new_mweb_autologin_google",{page:c,referrer:n,container:r,hybridTier:i})):(Object(s.a)("web_autologin_google"),Object(s.g)("new_web_autologin_google",{page:c,referrer:n,container:r,hybridTier:i})):e.facebook_autologin?(Object(s.a)("web_autologin_facebook"),Object(s.g)("new_web_autologin_facebook",{page:c,referrer:n,container:r,hybridTier:i})):(Object(s.a)(`web_login.${_}.success.${c}.${r}.${n}.${i}`),Object(s.g)(`new_web_login.${_}.success`,{page:c,referrer:n,container:r,hybridTier:i}))},b=(e,t)=>{Object(s.a)(`web_cross_domain_login.${e}.${f(t)}`)};t.a=function(e,t={},o=null,c=!1,s,u,d=!1){if(function(e){return!e.mfa_resend&&!!e.username_or_email}(e)){if(-1!==_.a.settings.CORS_HANDSHAKE_DOMAINS.indexOf(a.a.instance.origin))return function(e,t){return b("attempt",e),n.default.loginUser(e).then(o=>{if(o&&o.data){b("success_with_token",e);const a=o.data;return n.default.exchangeTokenAndSetSession(a).then(o=>(b("success_token_exchanged",e),O(e,t),Promise.resolve()),t=>{throw b("success_token_not_exchanged",e),t})}throw b("success_without_token",e),new Error},o=>{throw b("failure",e),l(o,t,f(e),!0),o})}(e,t)}e.switch_account&&(e.get_user=!!c||e.get_user);const h=c?null:r.b.localStorage.getItem("visitedPagesBeforeLogin"),E={...e,app_type_from_client:5,visited_pages_before_login:h?JSON.stringify(h):null,recaptchaToken:s,tokenV3:u};return i.a.create("UserSessionResource",E).callCreate({showError:!1,async:!0}).then(o=>(O(e,t,d),Object(g.e)(!1),Object(p.a)("login").then(()=>o)),o=>(l(o,t,f(e)),Promise.reject(o)))}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/js/pjs-AutologinUtilCommon-26f51cd75055ce942a00.mjs.map
